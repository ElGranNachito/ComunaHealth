@page
@using ComunaHealth;
@model ComunaHealth.Pages.BuscadorModel
@inject SignInManager<Modelos.ModeloUsuario> SignInManager

@*Contenedor*@
<div class="container">

    @*Si el usuario no esta logueado, nos pegamos la vuelta*@
    @if (!SignInManager.IsSignedIn(User))
    {
        return;
    }

    @if (User.IsInRole(Constantes.NombreRolPaciente))
    {
        @*Si el usuario es un paciente*@
        <partial name="_BuscadorMedicos" />
    }
    else if (User.IsInRole(Constantes.NombreRolMedico))
    {
        @*Si el usuario es un medico*@
        <partial name="_BuscadorPacientes" />
    }
    else if (User.IsInRole(Constantes.NombreRolAdministrador))
    {
        @*Si el usuario es un administrador*@
        <partial name="_BuscadorPacientesMedicos" />
    }

    @section Scripts
    {
        <script src="~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

        <script type="text/javascript">
            $(".selectpicker").selectpicker();
        </script>
    }

</div>